FAILED: //frameworks/base/cmds/idmap:idmap link idmap
Outputs: out/soong/.intermediates/frameworks/base/cmds/idmap/idmap/android_x86_64_core/unstripped/idmap
Error: exited with code: 1
Command: prebuilts/clang/host/linux-x86/clang-r346389b/bin/clang++ out/soong/.intermediates/bionic/libc/crtbegin_dynamic/android_x86_64_core_platform/crtbegin_dynamic.o @out/soong/.intermediates/frameworks/base/cmds/idmap/idmap/android_x86_64_core/unstripped/idmap.rsp -Wl,--start-group prebuilts/clang/host/linux-x86/clang-r346389b/lib64/clang/8.0.6/lib/linux/libclang_rt.builtins-x86_64-android.a prebuilts/gcc/linux-x86/x86/x86_64-linux-android-4.9/x86_64-linux-android/lib64/libatomic.a prebuilts/gcc/linux-x86/x86/x86_64-linux-android-4.9/lib/gcc/x86_64-linux-android/4.9.x/libgcc.a -Wl,--end-group out/soong/.intermediates/system/core/liblog/liblog/android_x86_64_core_shared_platform/liblog.so out/soong/.intermediates/system/core/libutils/libutils/android_x86_64_core_shared_platform/libutils.so out/soong/.intermediates/frameworks/base/libs/androidfw/libandroidfw/android_x86_64_core_shared_platform/libandroidfw.so out/soong/.intermediates/system/core/libcutils/libcutils/android_x86_64_core_shared_platform/libcutils.so out/soong/.intermediates/external/libcxx/libc++/android_x86_64_core_shared_platform/libc++.so out/soong/.intermediates/bionic/libc/libc/android_x86_64_core_shared_platform/libc.so out/soong/.intermediates/bionic/libm/libm/android_x86_64_core_shared_platform/libm.so out/soong/.intermediates/bionic/libdl/libdl/android_x86_64_core_shared_platform/libdl.so out/soong/.intermediates/bionic/libc/crtend_android/android_x86_64_core_platform/obj/bionic/libc/arch-common/bionic/crtend.o -o out/soong/.intermediates/frameworks/base/cmds/idmap/idmap/android_x86_64_core/unstripped/idmap -target x86_64-linux-android -Bprebuilts/gcc/linux-x86/x86/x86_64-linux-android-4.9/x86_64-linux-android/bin -Wl,-z,noexecstack -Wl,-z,relro -Wl,-z,now -Wl,--build-id=md5 -Wl,--warn-shared-textrel -Wl,--fatal-warnings -Wl,--no-undefined-version -fuse-ld=lld -Wl,--pack-dyn-relocs=android+relr -Wl,--use-android-relr-tags -Wl,--no-undefined -Wl,--hash-style=gnu -m64 -pie -nostdlib -Bdynamic -Wl,--gc-sections -Wl,-z,nocopyreloc prebuilts/clang/host/linux-x86/clang-r346389b/lib64/clang/8.0.6/lib/linux/libclang_rt.ubsan_minimal-x86_64-android.a -Wl,--exclude-libs,libclang_rt.ubsan_minimal-x86_64-android.a -Wl,-dynamic-linker,/system/bin/linker64
Output:
ld.lld: error: undefined symbol: idmap_create_fd(char const*, char const*, int)
>>> referenced by idmap.cpp:150 (frameworks/base/cmds/idmap/idmap.cpp:150)
>>>               out/soong/.intermediates/frameworks/base/cmds/idmap/idmap/android_x86_64_core/obj/frameworks/base/cmds/idmap/idmap.o:(main)
clang-8: error: linker command failed with exit code 1 (use -v to see invocation)

