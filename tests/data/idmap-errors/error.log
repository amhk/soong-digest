FAILED: //frameworks/base/cmds/idmap:idmap clang++ idmap.cpp
Outputs: out/soong/.intermediates/frameworks/base/cmds/idmap/idmap/android_x86_64_core/obj/frameworks/base/cmds/idmap/idmap.o
Error: exited with code: 1
Command: PWD=/proc/self/cwd prebuilts/clang/host/linux-x86/clang-r346389b/bin/clang++ -c -Iframeworks/base/cmds/idmap  -Werror=implicit-function-declaration -DANDROID -fmessage-length=0 -W -Wall -Wno-unused -Winit-self -Wpointer-arith -no-canonical-prefixes -DNDEBUG -UDEBUG -fno-exceptions -Wno-multichar -O2 -g -fno-strict-aliasing -fdebug-prefix-map=/proc/self/cwd= -D__compiler_offsetof=__builtin_offsetof -Wimplicit-fallthrough -Werror=int-conversion -Wno-reserved-id-macro -Wno-format-pedantic -Wno-unused-command-line-argument -fcolor-diagnostics -Wno-zero-as-null-pointer-constant -Wno-sign-compare -Wno-defaulted-function-deleted -ffunction-sections -fdata-sections -fno-short-enums -funwind-tables -fstack-protector-strong -Wa,--noexecstack -D_FORTIFY_SOURCE=2 -Wstrict-aliasing=2 -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Werror=date-time -Werror=format-security -nostdlibinc -m64 -march=x86-64 -DUSE_SSSE3 -mssse3 -msse4 -msse4.1 -msse4.2 -mpopcnt -Isystem/core/liblog/include -Isystem/core/libutils/include -Isystem/core/libbacktrace/include -Isystem/core/libsystem/include -Isystem/core/libcutils/include -Iframeworks/base/libs/androidfw/include -Iexternal/zlib -Iexternal/libcxx/include -Iexternal/libcxxabi/include -Ibionic/libc/include -Ibionic/libc/system_properties/include -Isystem/core/property_service/libpropertyinfoparser/include -Isystem/core/include -Isystem/media/audio/include -Ihardware/libhardware/include -Ihardware/libhardware_legacy/include -Ihardware/ril/include -Ilibnativehelper/include -Iframeworks/native/include -Iframeworks/native/opengl/include -Iframeworks/av/include -isystem bionic/libc/include -isystem bionic/libc/kernel/uapi -isystem bionic/libc/kernel/uapi/asm-x86 -isystem bionic/libc/kernel/android/scsi -isystem bionic/libc/kernel/android/uapi -Ilibnativehelper/include_jni -Wall -Werror -Wunused -Wunreachable-code -target x86_64-linux-android -Bprebuilts/gcc/linux-x86/x86/x86_64-linux-android-4.9/x86_64-linux-android/bin -DANDROID_STRICT -fPIE -D_USING_LIBCXX -std=gnu++17 -Wsign-promo -Wno-inconsistent-missing-override -Wno-null-dereference -D_LIBCPP_ENABLE_THREAD_SAFETY_ANNOTATIONS -Wno-thread-safety-negative -Wno-gnu-include-next -fvisibility-inlines-hidden -fno-rtti  -Werror=int-to-pointer-cast -Werror=pointer-to-int-cast -Werror=address-of-temporary -Werror=return-type -Wno-tautological-constant-compare -Wno-tautological-type-limit-compare -Wno-tautological-unsigned-enum-zero-compare -Wno-tautological-unsigned-zero-compare -Wno-enum-compare -Wno-enum-compare-switch -Wno-c++98-compat-extra-semi -Wno-return-std-move-in-c++11 -MD -MF out/soong/.intermediates/frameworks/base/cmds/idmap/idmap/android_x86_64_core/obj/frameworks/base/cmds/idmap/idmap.o.d -o out/soong/.intermediates/frameworks/base/cmds/idmap/idmap/android_x86_64_core/obj/frameworks/base/cmds/idmap/idmap.o frameworks/base/cmds/idmap/idmap.cpp
Output:
[1mframeworks/base/cmds/idmap/idmap.cpp:234:5: [0m[0;1;31merror: [0m[1mcontrol may reach end of non-void function [-Werror,-Wreturn-type][0m
    }
[0;1;32m    ^
[0m1 error generated.



FAILED: //frameworks/base/cmds/idmap:idmap clang++ create.cpp
Outputs: out/soong/.intermediates/frameworks/base/cmds/idmap/idmap/android_x86_64_core/obj/frameworks/base/cmds/idmap/create.o
Error: exited with code: 1
Command: PWD=/proc/self/cwd prebuilts/clang/host/linux-x86/clang-r346389b/bin/clang++ -c -Iframeworks/base/cmds/idmap  -Werror=implicit-function-declaration -DANDROID -fmessage-length=0 -W -Wall -Wno-unused -Winit-self -Wpointer-arith -no-canonical-prefixes -DNDEBUG -UDEBUG -fno-exceptions -Wno-multichar -O2 -g -fno-strict-aliasing -fdebug-prefix-map=/proc/self/cwd= -D__compiler_offsetof=__builtin_offsetof -Wimplicit-fallthrough -Werror=int-conversion -Wno-reserved-id-macro -Wno-format-pedantic -Wno-unused-command-line-argument -fcolor-diagnostics -Wno-zero-as-null-pointer-constant -Wno-sign-compare -Wno-defaulted-function-deleted -ffunction-sections -fdata-sections -fno-short-enums -funwind-tables -fstack-protector-strong -Wa,--noexecstack -D_FORTIFY_SOURCE=2 -Wstrict-aliasing=2 -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Werror=date-time -Werror=format-security -nostdlibinc -m64 -march=x86-64 -DUSE_SSSE3 -mssse3 -msse4 -msse4.1 -msse4.2 -mpopcnt -Isystem/core/liblog/include -Isystem/core/libutils/include -Isystem/core/libbacktrace/include -Isystem/core/libsystem/include -Isystem/core/libcutils/include -Iframeworks/base/libs/androidfw/include -Iexternal/zlib -Iexternal/libcxx/include -Iexternal/libcxxabi/include -Ibionic/libc/include -Ibionic/libc/system_properties/include -Isystem/core/property_service/libpropertyinfoparser/include -Isystem/core/include -Isystem/media/audio/include -Ihardware/libhardware/include -Ihardware/libhardware_legacy/include -Ihardware/ril/include -Ilibnativehelper/include -Iframeworks/native/include -Iframeworks/native/opengl/include -Iframeworks/av/include -isystem bionic/libc/include -isystem bionic/libc/kernel/uapi -isystem bionic/libc/kernel/uapi/asm-x86 -isystem bionic/libc/kernel/android/scsi -isystem bionic/libc/kernel/android/uapi -Ilibnativehelper/include_jni -Wall -Werror -Wunused -Wunreachable-code -target x86_64-linux-android -Bprebuilts/gcc/linux-x86/x86/x86_64-linux-android-4.9/x86_64-linux-android/bin -DANDROID_STRICT -fPIE -D_USING_LIBCXX -std=gnu++17 -Wsign-promo -Wno-inconsistent-missing-override -Wno-null-dereference -D_LIBCPP_ENABLE_THREAD_SAFETY_ANNOTATIONS -Wno-thread-safety-negative -Wno-gnu-include-next -fvisibility-inlines-hidden -fno-rtti  -Werror=int-to-pointer-cast -Werror=pointer-to-int-cast -Werror=address-of-temporary -Werror=return-type -Wno-tautological-constant-compare -Wno-tautological-type-limit-compare -Wno-tautological-unsigned-enum-zero-compare -Wno-tautological-unsigned-zero-compare -Wno-enum-compare -Wno-enum-compare-switch -Wno-c++98-compat-extra-semi -Wno-return-std-move-in-c++11 -MD -MF out/soong/.intermediates/frameworks/base/cmds/idmap/idmap/android_x86_64_core/obj/frameworks/base/cmds/idmap/create.o.d -o out/soong/.intermediates/frameworks/base/cmds/idmap/idmap/android_x86_64_core/obj/frameworks/base/cmds/idmap/create.o frameworks/base/cmds/idmap/create.cpp
Output:
[1mframeworks/base/cmds/idmap/create.cpp:29:33: [0m[0;1;31merror: [0m[1mexpected ';' after expression[0m
        zip->releaseEntry(entry)
[0;1;32m                                ^
[0m[0;32m                                ;
[0m[1mframeworks/base/cmds/idmap/create.cpp:89:13: [0m[0;1;31merror: [0m[1mno matching function for call to 'lseek'[0m
        if (lseek(idmap_fd, 0) < 0) {
[0;1;32m            ^~~~~
[0m[1mbionic/libc/include/unistd.h:258:7: [0m[0;1;30mnote: [0mcandidate function not viable: requires 3 arguments, but 2 were provided[0m
off_t lseek(int __fd, off_t __offset, int __whence);
[0;1;32m      ^
[0m2 errors generated.

